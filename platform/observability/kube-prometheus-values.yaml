# Custom values for kube-prometheus-stack Helm chart
# Tuned for a demo / small cluster (2x B2s nodes)

prometheus:
  prometheusSpec:
    retention: 7d
    resources:
      requests:
        cpu: 200m
        memory: 512Mi
      limits:
        cpu: 500m
        memory: 1Gi
    # Discover ServiceMonitors across all namespaces
    serviceMonitorSelectorNilUsesHelmValues: false
    serviceMonitorNamespaceSelector: {}

grafana:
  adminPassword: fincore-demo
  persistence:
    enabled: false
  service:
    type: LoadBalancer
  # Auto-provision dashboards from ConfigMaps
  sidecar:
    dashboards:
      enabled: true
      searchNamespace: ALL

alertmanager:
  enabled: false  # Disabled for demo, enable in production

# Node exporter for host-level metrics
nodeExporter:
  enabled: true

# Kube-state-metrics for K8s object metrics
kubeStateMetrics:
  enabled: true
